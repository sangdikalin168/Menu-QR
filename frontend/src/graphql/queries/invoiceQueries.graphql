fragment InvoiceItemFields on InvoiceItem {
  quantity
  product {
    id
    name
    retailPrice
    wholesalePrice
    unitName
  }
}

fragment PaymentFields on Payment {
  id
  amount
  paymentMethod
  paymentDate
}

fragment InvoiceFields on Invoice {
  id
  invoiceNumber
  customerId
  totalAmount
  paidAmount
  discount
  isPaid
  dueDate
  createdAt
  updatedAt
  refundStatus
  refundedAmount
  fiscalYear
  fiscalPeriod
  customer {
    id
    name
    phone
  }
  payment {
    ...PaymentFields
  }
  invoiceItem {
    ...InvoiceItemFields
  }
  paymentStatus
}

query GetInvoices($filter: InvoiceFilterInput) {
  invoices(filter: $filter) {
    ...InvoiceFields
  }
}

mutation AddPaymentToInvoice($input: AddPaymentInput!) {
  addPaymentToInvoice(input: $input) {
    ...PaymentFields
  }
}
